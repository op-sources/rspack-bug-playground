import _flattenDeep from "lodash/flattenDeep";

/**
 * @file 自定义item
 * @author huangshiming
 * @date 2020-05-16
 */
import React from 'react';
;

var CommonItemRender = function CommonItemRender(props) {
  var title = props.title,
      relationText = props.relationText,
      searchValue = props.searchValue,
      prefixCls = props.prefixCls;
  var textArray = [/*#__PURE__*/React.createElement("span", {
    key: "normal-0"
  }, title)];

  if (searchValue) {
    var pivolIndex = title.indexOf(searchValue);

    if (pivolIndex > -1) {
      textArray = _flattenDeep(title.split(searchValue).map(function (node, index) {
        return index === 0 ? [/*#__PURE__*/React.createElement("span", {
          key: index
        }, node)] : [/*#__PURE__*/React.createElement("span", {
          key: index + "-highlight",
          className: prefixCls + "-title-highlight"
        }, searchValue), /*#__PURE__*/React.createElement("span", {
          key: index
        }, node)];
      }));
    }
  }

  return title ? /*#__PURE__*/React.createElement("span", {
    title: title,
    className: prefixCls + "-item-title"
  }, textArray, /*#__PURE__*/React.createElement("span", {
    className: prefixCls + "-relation-text"
  }, ' ', relationText)) : null; // 有构造数据的 id 不存在
};

CommonItemRender.defaultProps = {
  title: '',
  relationText: ''
};
export default CommonItemRender;
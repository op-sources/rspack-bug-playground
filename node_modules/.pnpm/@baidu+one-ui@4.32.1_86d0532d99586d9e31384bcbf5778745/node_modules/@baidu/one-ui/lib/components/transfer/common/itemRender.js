"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports["default"] = void 0;

var _flattenDeep2 = _interopRequireDefault(require("lodash/flattenDeep"));

var _react = _interopRequireDefault(require("react"));

/**
 * @file 自定义item
 * @author huangshiming
 * @date 2020-05-16
 */
;

var CommonItemRender = function CommonItemRender(props) {
  var title = props.title,
      relationText = props.relationText,
      searchValue = props.searchValue,
      prefixCls = props.prefixCls;
  var textArray = [/*#__PURE__*/_react["default"].createElement("span", {
    key: "normal-0"
  }, title)];

  if (searchValue) {
    var pivolIndex = title.indexOf(searchValue);

    if (pivolIndex > -1) {
      textArray = (0, _flattenDeep2["default"])(title.split(searchValue).map(function (node, index) {
        return index === 0 ? [/*#__PURE__*/_react["default"].createElement("span", {
          key: index
        }, node)] : [/*#__PURE__*/_react["default"].createElement("span", {
          key: index + "-highlight",
          className: prefixCls + "-title-highlight"
        }, searchValue), /*#__PURE__*/_react["default"].createElement("span", {
          key: index
        }, node)];
      }));
    }
  }

  return title ? /*#__PURE__*/_react["default"].createElement("span", {
    title: title,
    className: prefixCls + "-item-title"
  }, textArray, /*#__PURE__*/_react["default"].createElement("span", {
    className: prefixCls + "-relation-text"
  }, ' ', relationText)) : null; // 有构造数据的 id 不存在
};

CommonItemRender.defaultProps = {
  title: '',
  relationText: ''
};
var _default = CommonItemRender;
exports["default"] = _default;
module.exports = exports.default;
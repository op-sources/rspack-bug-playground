@import '../../style/index.less';

@loading-prefix-cls: ~"@{one-prefix}-loading";

.@{loading-prefix-cls} {
    display: none;
    position: absolute;
    text-align: center;
    vertical-align: middle;
    opacity: 0;
    transition: @dls-loading-transition;
    &-vertical {
        .@{loading-prefix-cls}-text {
            display: block;
            margin-left: 0;
        }
        .@{loading-prefix-cls}-icon-element {
            flex-direction: column;
        }
    }
    &-visible {
        position: static;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        opacity: 1;
    }
    .size(@size, @font-size, @icon-size, @content-spacing) {
        &-@{size} {
            font-size: @font-size;
            .@{loading-prefix-cls}-loading-icon {
                width: auto;
                height: @icon-size;
            }
        }
        &-horizontal&-@{size} &-text {
            margin-left: @content-spacing;
        }
        &-vertical&-@{size} &-text {
            margin-top: @content-spacing;
        }
    }

    .size(small, @dls-loading-font-size-s, @dls-loading-size-s, @dls-loading-content-spacing-s);
    .size(medium, @dls-loading-font-size-m, @dls-loading-size-m, @dls-loading-content-spacing-m);
    .size(large, @dls-loading-font-size-l, @dls-loading-size-l, @dls-loading-content-spacing-l);

    &-type-normal {
        .@{loading-prefix-cls}-text {
            color: @dls-loading-font-color-normal;
        }
        .@{loading-prefix-cls}-loading-icon {
            color: @dls-loading-color-normal;
        }
    }
    &-type-strong {
        .@{loading-prefix-cls}-text {
            color: @dls-loading-font-color-strong;
        }
        .@{loading-prefix-cls}-loading-icon {
            color: @dls-loading-color-strong;
        }
    }
    &-type-reverse {
        .@{loading-prefix-cls}-text {
            color: @dls-loading-font-color-reverse;
        }
        .@{loading-prefix-cls}-loading-icon {
            color: @dls-loading-color-reverse;
        }
    }
    &-container {
        transition: @dls-loading-transition;
        &::after {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          opacity: 0;
          background: @dls-loading-background-color;
          transition: @dls-loading-transition;
          -webkit-backdrop-filter: blur(1px);
          backdrop-filter: blur(1px);
          content: '';
          pointer-events: none;
        }
    }
    &-icon-element {
        display: inline-flex;
        align-items: center;
    }
    &-blur {
        clear: both;
        overflow: hidden;
        user-select: none;
        pointer-events: none;
        &::after {
            opacity: 1;
            pointer-events: auto;
        }
    }
    &-nested-loading {
        position: relative;
        & > .@{loading-prefix-cls} {
            position: absolute;
            display: block;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0;
            .@{loading-prefix-cls}-icon-element {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                z-index: 1;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }
    }
    &-nested-loading-reverse {
        .@{loading-prefix-cls}-container {
            &::after {
                background-color: @dls-loading-background-color-reverse;
            }
        }
    }
    // 条状
    &-bar {
        &-done {
            opacity: 0;
            transition: opacity ease-in .3s;
        }
    }
}
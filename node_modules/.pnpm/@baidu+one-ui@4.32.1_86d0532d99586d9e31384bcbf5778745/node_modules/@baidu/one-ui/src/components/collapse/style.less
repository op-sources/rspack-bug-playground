@import '../../style/index.less';

@collapse-prefix-cls: ~"@{one-prefix}-collapse";

.collapse-size(@size, @border-radius, @font-size-header, @font-size-content) {
    .@{collapse-prefix-cls}-@{size} {
        border-radius: @border-radius;
        .@{collapse-prefix-cls}-item {
            &-header {
                font-size: @font-size-header;
            }
            &-content {
                font-size: @font-size-content;
            }
            &:first-of-type,
            &:first-of-type .@{collapse-prefix-cls}-item-header {
                border-top-right-radius: @border-radius;
                border-top-left-radius: @border-radius;
            }
            &:last-of-type,
            &:last-of-type .@{collapse-prefix-cls}-item-header {
                border-bottom-right-radius: @border-radius;
                border-bottom-left-radius: @border-radius;
            }
        }
        &.@{collapse-prefix-cls}-with-gutter {
            .@{collapse-prefix-cls}-item {
                &,
                &-header {
                    border-radius: @border-radius;
                }
                &-content {
                    border-bottom-right-radius: @border-radius;
                    border-bottom-left-radius: @border-radius;
                }
            }
        }
    }
}

.collapse-size(small, @dls-collapse-border-radius-s, @dls-collapse-header-font-size-s, @dls-collapse-body-font-size-s);
.collapse-size(medium, @dls-collapse-border-radius-m, @dls-collapse-header-font-size-m, @dls-collapse-body-font-size-m);

.collapse-color(@type) {
    .@{collapse-prefix-cls}-type-@{type} {
        @name: 'dls-collapse-header-background-color';
        @suffixType: replace('-@{type}', '-normal', '');
        @header-background-color: '@{name}@{suffixType}';
        @header-background-color-hover: '@{name}@{suffixType}-hover';
        @header-background-color-active: '@{name}@{suffixType}-active';
        @header-background-color-disabled: '@{name}@{suffixType}-disabled';
        @body-background-color: 'dls-collapse-body-background-color@{suffixType}';
        .@{collapse-prefix-cls}-item {
            &-header {
                background-color: @@header-background-color;
            }
            &-disabled .@{collapse-prefix-cls}-item-header {
                background-color: @@header-background-color-disabled;
            }
            &-content {
                background-color: @@body-background-color;
            }
        }
        &:not(.@{collapse-prefix-cls}-dull) .@{collapse-prefix-cls}-item:not(.@{collapse-prefix-cls}-item-disabled) .@{collapse-prefix-cls}-item-header {
            &:hover {
                background-color: @@header-background-color-hover;
            }
            &:active {
                background-color: @@header-background-color-active;
            }
        }
    }
}
.collapse-color(normal);
.collapse-color(simple);
.collapse-color(basic);
.collapse-color(strong);

.@{collapse-prefix-cls} {
    .reset-component();
    border: 1px solid @dls-collapse-border-color;
    &-item {
        &-header {
            padding: @dls-collapse-header-padding-y @dls-collapse-header-padding-x;
            position: relative;
            color: @dls-collapse-header-font-color;
            line-height: @dls-collapse-header-line-height;
            display: flex;
            align-items: center;
            cursor: pointer;
            outline: none;
            > .@{collapse-prefix-cls}-angle-icon {
                margin-right: @dls-collapse-header-content-spacing;
                color: @dls-collapse-icon-color-aux;
                height: @dls-collapse-icon-size-aux;
                width: @dls-collapse-icon-size-aux;
            }
            &.focus-visibleÂ {
                border: 1px solid @dls-collapse-header-border-color-focus;
                box-shadow: @dls-collapse-header-shadow-focus;
                margin: -1px;
                z-index: 1;
            }
        }
        &-title {
            flex: 1;
        }
        &:not(:last-of-type) {
            border-bottom: 1px solid @dls-collapse-border-color;
        }
        &-content {
            color: @dls-collapse-body-font-color;
            padding: 0 @dls-collapse-body-padding-x @dls-collapse-body-padding-y;
            line-height: @dls-collapse-body-line-height;
            .@{collapse-prefix-cls}-item {
                border: 0;
            }
        }
        &-content-not-active {
            display: none;
        }
    }
    & &-item&-item-active &-item-header {
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }
    &-item-disabled {
        outline: none;
        &.focus-visible,
        &:focus,
        &:active,
        &:hover {
            border-color: @dls-collapse-border-color;
            + .@{collapse-prefix-cls}-item {
                border-top-color: @dls-collapse-border-color;
            }
        }
        .@{collapse-prefix-cls}-item-header {
            color: @dls-collapse-header-font-color-disabled;
            cursor: not-allowed;
            outline: none;
            > .@{collapse-prefix-cls}-angle-icon {
                color: @dls-icon-color-aux-disabled;
            }
        }
    }

    &-with-gutter &-item {
        border: 1px solid @dls-collapse-border-color;
    }

    &-with-gutter,
    &-border-less,
    &-border-less&-with-gutter &-item {
        border: none;
    }
    &:not(&-border-less)&-type-normal &-item-content {
        padding-top: @dls-collapse-body-padding-y;
        border-top: 1px solid @dls-collapse-border-color;
    }

    &-expand-icon-right &-item-header {
        flex-direction: row-reverse;
        > .@{collapse-prefix-cls}-angle-icon {
            margin-right: 0;
            margin-left: @dls-collapse-header-content-spacing;
        }
    }
}
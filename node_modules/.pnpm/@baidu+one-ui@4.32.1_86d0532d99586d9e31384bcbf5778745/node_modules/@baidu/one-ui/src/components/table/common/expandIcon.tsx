import React, {PureComponent, MouseEvent} from 'react';
import {IconChevronRight, IconChevronDown} from 'dls-icons-react';

interface ExpandIconProps {
    record: object,
    prefixCls: string,
    expandable: boolean,
    expanded: boolean,
    needIndentSpaced: boolean,
    onExpand(record: object, e: MouseEvent)
};

export default class ExpandIcon extends PureComponent<ExpandIconProps> {

    render() {
        const {
            expandable,
            prefixCls,
            expanded,
            onExpand,
            needIndentSpaced,
            record
        } = this.props;

        if (expandable) {
            const expandClassName = expanded ? 'expanded' : 'collapsed';
            const expandIcon = expanded ? <IconChevronDown /> : <IconChevronRight />;
            return (
                <span
                    className={`${prefixCls}-expand-icon ${prefixCls}-${expandClassName}`}
                    onClick={e => onExpand(record, e)}
                >
                    {expandIcon}
                </span>
            );
        }
        if (needIndentSpaced) {
            return <span className={`${prefixCls}-expand-icon ${prefixCls}-spaced`} />;
        }
        return null;
    }
}

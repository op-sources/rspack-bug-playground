@import '../../style/index.less';

@drawer-prefix-cls: ~"@{one-prefix}-drawer";

.drawer-size(@size, @header-font-size) {
    .@{drawer-prefix-cls}-wrapper-body-@{size} {
        .@{drawer-prefix-cls}-title,
        .@{drawer-prefix-cls}-close {
            font-size: @header-font-size;
        }
    }
}

.drawer-size(small, @dls-drawer-title-font-size-s);
.drawer-size(medium, @dls-drawer-title-font-size-m);

.@{drawer-prefix-cls} {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    width: 0%;
    height: 100%;
    z-index: @dls-dialog-z-index;
    > * {
        transition: transform .3s ease-in-out;
    }
    &-content-wrapper {
        position: fixed;
    }
    .@{drawer-prefix-cls}-content {
        width: 100%;
        height: 100%;
    }
    &-wrapper-body-container {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        flex-direction: column;
    }
    &-left,
    &-right {
        width: 0;
        height: 100%;
        .@{drawer-prefix-cls}-content-wrapper {
            height: 100%;
        }
        &.@{drawer-prefix-cls}-open {
            width: 100%;
        }
        &.@{drawer-prefix-cls}-open.no-mask {
            width: 0;
        }
    }
    &-left {
        &.@{drawer-prefix-cls}-open {
            .@{drawer-prefix-cls}-content-wrapper {
                box-shadow: @dls-drawer-shadow-left;
            }
        }
    }
    &-right {
        .@{drawer-prefix-cls} {
            &-content-wrapper {
                right: 0;
            }
        }
        &.@{drawer-prefix-cls}-open {
            .@{drawer-prefix-cls}-content-wrapper {
                box-shadow: @dls-drawer-shadow-right;
            }
        }
    }
    &-top,
    &-bottom {
        width: 100%;
        height: 0;
        .@{drawer-prefix-cls}-content-wrapper {
            width: 100%;
        }
        &.@{drawer-prefix-cls}-open {
            height: 100%;
        }
        &.@{drawer-prefix-cls}-open.no-mask {
            height: 0;
        }
    }
    &-top {
        &.@{drawer-prefix-cls}-open {
            .@{drawer-prefix-cls}-content-wrapper {
                box-shadow: @dls-drawer-shadow-top;
            }
        }
    }
    &-bottom {
        .@{drawer-prefix-cls} {
            &-content-wrapper {
                bottom: 0;
            }
        }
        &.@{drawer-prefix-cls}-open {
            .@{drawer-prefix-cls}-content-wrapper {
                box-shadow: @dls-drawer-shadow-bottom;
            }
        }
    }
    &.@{drawer-prefix-cls}-open {
        .@{drawer-prefix-cls} {
            &-mask {
                // opacity: @dls-dialog-mask-background-color-opacity;
                height: 100%;
            }
        }
    }
    &-title {
        margin: 0;
        // font-size: @font-size-lg;
        line-height: @dls-dialog-title-line-height;
        font-weight: @dls-font-weight-3;
        color: @dls-dialog-title-font-color;
        text-overflow: ellipsis;
        overflow: hidden;
    }
    &-content {
        background-color: @dls-dialog-background-color;
        border: 0;
        background-clip: padding-box;
    }
    &-header {
        border-radius: 0;
        background: @dls-dialog-background-color;
        position: relative;
        flex-grow: 0;
        padding: @dls-dialog-padding-y @dls-dialog-padding-x;
        display: flex;
        &-container {
            flex: 1;
        }
    }
    &-header &-close {
        position: static;
    }
    &-close {
        position: absolute;
        z-index: 1;
        right: @dls-dialog-padding-y;
        top: @dls-dialog-padding-x;
    }
    &-close,
    &-close-icon {
        width: @dls-drawer-close-icon-size;
        height: @dls-drawer-close-icon-size;
    }
    &-body {
        line-height: @dls-dialog-body-line-height;
        word-wrap: break-word;
        flex-grow: 1;
        overflow: auto;
        padding: 0 @dls-dialog-padding-x;
    }
    &-wrapper-with-header &-close {
        top: @dls-dialog-padding-y;
        right: @dls-dialog-padding-x;
    }
    &-wrapper-type-basic &-body {
        padding: 0;
    }
    &-mask {
        position: fixed;
        width: 100%;
        height: 0;
        // opacity: @dls-dialog-mask-background-color-opacity;
        background-color: @dls-dialog-backdrop-color;
    }
    &-open {
        &-content {
            box-shadow: @dls-drawer-shadow-top;
        }
    }
    &-footer {
        flex-grow: 0;
        padding: @dls-dialog-padding-y @dls-dialog-padding-x;
        > button {
            margin-right: @dls-dialog-action-content-spacing;
        }
    }
}

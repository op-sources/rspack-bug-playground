import React, { createRef } from 'react';
import {MenuItemGroupProps} from './interface';

class MenuItemGroup extends React.Component<MenuItemGroupProps> {
    static isMenuItemGroup = true;

    renderInnerMenuItem = item => {
        const {
            renderMenuItem,
            index,
            subMenuKey
        } = this.props;
        return renderMenuItem(item, index, subMenuKey);
    };

    static defaultProps = {
        prefixCls: 'one-menu'
    };

    render() {
        const {
            prefixCls,
            className,
            subMenuKey,
            onClick,
            index,
            title,
            children,
            renderMenuItem,
            // @ts-ignore
            inlineIndent,
            // @ts-ignore
            parentMenu,
            // @ts-ignore
            eventKey,
            // @ts-ignore
            active,
            // @ts-ignore
            onItemHover,
            // @ts-ignore
            subMenuOpenDelay,
            // @ts-ignore
            subMenuCloseDelay,
            // @ts-ignore
            forceSubMenuRender,
            // @ts-ignore
            onOpenChange,
            // @ts-ignore
            onDeselect,
            // @ts-ignore
            builtinplacements,
            // @ts-ignore
            openKeys,
            // @ts-ignore
            selectedKeys,
            // @ts-ignore
            triggerSubMenuAction,
            // @ts-ignore
            builtinPlacements,
            ...restProps
        } = this.props;

        return (
            <li
                {...restProps}
                className={`${className} ${prefixCls}-item-group`}
            >
                <div
                    className={`${prefixCls}-item-group-title`}
                    title={typeof title === 'string' ? title : undefined}
                >
                    {title}
                </div>
                <ul className={`${prefixCls}-item-group-list`}>
                    {React.Children.map(children, this.renderInnerMenuItem)}
                </ul>
            </li>
        );
    }
}

export default MenuItemGroup;

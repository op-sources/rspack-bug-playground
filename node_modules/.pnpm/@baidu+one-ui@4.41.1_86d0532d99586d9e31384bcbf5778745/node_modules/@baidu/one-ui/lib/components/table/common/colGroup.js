"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

exports.__esModule = true;
exports["default"] = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _miniStore = require("mini-store");

var _context = _interopRequireDefault(require("./context"));

function ColGroup(props) {
  var _useContext = (0, _react.useContext)(_context["default"]),
      table = _useContext.table;

  var _props$allColumnsWidt = props.allColumnsWidth,
      allColumnsWidth = _props$allColumnsWidt === void 0 ? [] : _props$allColumnsWidt;
  var cols = [];
  var leafColumns;
  leafColumns = table.columnManager.leafColumns();
  cols = cols.concat(leafColumns.map(function (c) {
    var curColumn = allColumnsWidth.filter(function (column) {
      return (c.key || c.dataIndex) === column.key;
    })[0];
    var style = {};

    if (curColumn && curColumn.width) {
      style.width = curColumn.width;
    }

    if (curColumn && curColumn.minWidth) {
      style.minWidth = curColumn.minWidth;
    }

    if (curColumn && curColumn.maxWidth) {
      style.maxWidth = curColumn.maxWidth;
    }

    return /*#__PURE__*/_react["default"].createElement("col", {
      key: c.key || c.dataIndex,
      style: style
    });
  }));
  return /*#__PURE__*/_react["default"].createElement("colgroup", null, cols);
}

ColGroup.propTypes = {
  fixed: _propTypes["default"].string
};

var _default = (0, _miniStore.connect)(function (state) {
  return {
    allColumnsWidth: state.allColumnsWidth
  };
})(ColGroup);

exports["default"] = _default;
module.exports = exports.default;
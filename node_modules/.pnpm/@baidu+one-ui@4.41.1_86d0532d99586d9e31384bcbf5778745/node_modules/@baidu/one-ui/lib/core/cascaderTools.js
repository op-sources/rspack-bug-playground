"use strict";

exports.__esModule = true;
exports.flattenTree = exports.getFilledFieldNames = exports.getFieldNames = void 0;

/**
 * @file cascader tools
 * @author huangshiming
 */
var getFieldNames = function getFieldNames(props) {
  var fieldNames = props.fieldNames;
  return fieldNames;
};

exports.getFieldNames = getFieldNames;

var getFilledFieldNames = function getFilledFieldNames(props) {
  var fieldNames = getFieldNames(props) || {};
  var names = {
    children: fieldNames.children || 'children',
    label: fieldNames.label || 'label',
    value: fieldNames.value || 'value'
  };
  return names;
};

exports.getFilledFieldNames = getFilledFieldNames;

var flattenTree = function flattenTree(options, props, ancestor) {
  if (ancestor === void 0) {
    ancestor = [];
  }

  var names = getFilledFieldNames(props);
  var flattenOptions = [];
  var childrenName = names.children;
  options.forEach(function (option) {
    var path = ancestor.concat(option);

    if (props.changeOnSelect || !option[childrenName] || !option[childrenName].length) {
      flattenOptions.push(path);
    }

    if (option[childrenName]) {
      flattenOptions = flattenOptions.concat(flattenTree(option[childrenName], props, path));
    }
  });
  return flattenOptions;
};

exports.flattenTree = flattenTree;